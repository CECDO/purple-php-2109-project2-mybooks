{% extends 'layout.html.twig' %}

{% block title %}
Ajouter un livre
{% endblock title %}

{% block stylesheet %}
<link rel="stylesheet" href="/assets/css/style_addbook.css">
{% endblock %}

{% block content %}
<nav>
    <div class="logoAndName">
        <a href="/" title="Retour à l'accueil"><img src="/assets/images/logobook.png" alt="My Books Logo"></a>
        <p>MY BOOKS</p>
    </div>
    <h1>Ajouter un nouveau livre</h1>
    <div class="backHome">
        <a href="/" title="Retour à l'accueil"><img src="/assets/images/home.png" alt="Home Logo"><span>Retour à
                l'accueil</span></a>
    </div>
</nav>

<form class="addForm" action="/book/add" method="post" enctype="multipart/form-data">
    <div class="cover_page">
        <label for="imageUpload">Page de couverture :</label>
        <img class="preview" src="/assets/cover_page/cover_page.png" id="preview"
            alt="Aperçu de la page de couverture">
        <input type="file" name="avatar" id="imageUpload" accept="image/*" onchange="previewImage()" required />
    </div>
    
    <div class="title">
        <label for="title">Titre :</label><br>
        <input type="text" id="title" name="title" placeholder="Saissisez le titre" required>
    </div>

    <div class="author">
        <label for="author">Auteur :</label><br>
        <div class="addAuthor">
            <select name="author" id="author" required>
                <option value="" selected disabled hidden>Choissisez un auteur</option>
                {% for author in authors %}
                <option value="{{ author.id }}">{{ author.name }}</option>
                {% endfor %}
            </select><br>
            <a href="/author/add"><img class="more" src="/assets/images/more.png" alt=""></a>
        </div>
    </div>

    <div class="release_date">
        <label for="release_date">Date d'édition :</label><br>
        <input type="date" name="release_date" id="release_date" required>
    </div>

    <div class="editor">
        <label for="editor">Editeur :</label><br>
        <div class="addEditor">
            <select name="editor" id="editor" required>
                <option value="" selected disabled hidden>Choissisez un éditeur</option>
                {% for editor in editors %}
                <option value="{{ editor.id }}">{{ editor.name }}</option>
                {% endfor %}
            </select><br>
            <a href="/editor/add"><img class="more" src="/assets/images/more.png" alt=""></a>
        </div>
    </div>

    <div class="category">
        <label for="category">Catégorie :</label><br>
        <div class="addCategory">
            <select name="category" id="category" required>
                <option value="" selected disabled hidden>Choissisez une catégorie</option>
                {% for category in categories %}
                <option value="{{ category.id }}">{{ category.name }}</option>
                {% endfor %}
            </select><br>
            <a href="/category/add"><img class="more" src="/assets/images/more.png" alt=""></a>
        </div>
    </div>

    <div class="format">
        <label for="format">Format :</label><br>
        <select name="format" id="format" required>
            <option value="" selected disabled hidden>Choissisez un format</option>
            {% for format in formats %}
            <option value="{{ format.id }}">{{ format.name }}</option>
            {% endfor %}

        </select>
    </div>

    <div class="location">
        <label for="location" title="Indiquer l'endroit oû se trouve votre livre (Biblio, salon..)">Emplacement
            :</label><br>
        <div class="addLocation">
            <select name="location" id="location" required>
                <option value="" selected disabled hidden>Choissisez un emplacement</option>
                {% for location in locations %}
                <option value="{{ location.id }}">{{ location.name }}</option>
                {% endfor %}
            </select><br>
            <a href="/location/add"><img class="more" src="/assets/images/more.png" alt=""></a>
        </div>
    </div>

    <div class="status">
        <label for="status">Etat :</label><br>
        <select name="status" id="status" required>
            <option value="" selected disabled hidden>Choissisez un etat</option>
            {% for statut in status %}
            <option value="{{ statut.id }}">{{ statut.name }}</option>
            {% endfor %}
        </select>
    </div>

    <input class="submit" type="submit" value="Enregistrer">
</form>
<p class="incompletForm">{{ errors[0] }}</p>
{% endblock content %}

{% block javascript %}
<script src="/assets/js/previewCover.js"></script>
{% endblock %}